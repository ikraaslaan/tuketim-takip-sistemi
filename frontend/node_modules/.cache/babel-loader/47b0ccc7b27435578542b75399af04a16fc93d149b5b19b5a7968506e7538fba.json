{"ast":null,"code":"var _jsxFileName = \"/Users/berfinaslan/yeni veri proje/tuketim-takip-sistemi/frontend/src/pages/yonetim/AnalitikModuller.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport api from \"../../services/api\";\nimport { FileText, TrendingUp, BarChart3, Download, Calendar, Loader2, Trash2 } from \"lucide-react\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AnalitikModuller = () => {\n  _s();\n  const [activePage, setActivePage] = useState(\"belgeler\");\n  const [loading, setLoading] = useState(false);\n  const [documents, setDocuments] = useState([]);\n  const [statisticalSummary, setStatisticalSummary] = useState(null);\n  const [timeSeriesAnalysis, setTimeSeriesAnalysis] = useState(null);\n  const [generatingReport, setGeneratingReport] = useState(false);\n  // Smart Date Filter: Default to previous month (not current month)\n  const today = new Date();\n  const currentMonth = today.getMonth() + 1; // 1-12\n  const currentYear = today.getFullYear();\n  const previousMonth = currentMonth === 1 ? 12 : currentMonth - 1;\n  const previousYear = currentMonth === 1 ? currentYear - 1 : currentYear;\n  const [selectedMonth, setSelectedMonth] = useState(previousMonth);\n  const [selectedYear, setSelectedYear] = useState(previousYear);\n\n  // Auto-fix invalid month selection (when month becomes hidden)\n  useEffect(() => {\n    const today = new Date();\n    const currentMonthNum = today.getMonth() + 1;\n    const currentYearNum = today.getFullYear();\n\n    // If selected year is current year and selected month is current or future month\n    if (selectedYear === currentYearNum && selectedMonth >= currentMonthNum) {\n      // Auto-select previous month\n      const prevMonth = currentMonthNum === 1 ? 12 : currentMonthNum - 1;\n      console.log(`ðŸ”„ Auto-fixing invalid month selection: ${selectedMonth} -> ${prevMonth}`);\n      setSelectedMonth(prevMonth);\n    }\n  }, [selectedYear, selectedMonth]);\n\n  // Filter states for report generation\n  const [neighborhoods, setNeighborhoods] = useState([]);\n  const [selectedNeighborhood, setSelectedNeighborhood] = useState(\"\"); // Empty by default - must select a neighborhood\n  const [selectedResource, setSelectedResource] = useState(\"all\");\n  const [reportProgress, setReportProgress] = useState(\"\");\n  const [showSuccessToast, setShowSuccessToast] = useState(false);\n  const [successMessage, setSuccessMessage] = useState(\"\");\n\n  // Fetch neighborhoods list for filter dropdown\n  useEffect(() => {\n    const fetchNeighborhoods = async () => {\n      try {\n        const response = await api.get(\"/stats/dashboard\");\n        if (response.data && response.data.success) {\n          const names = response.data.data.map(item => item.mahalle);\n          setNeighborhoods(names);\n          // Auto-select first neighborhood if none selected\n          if (names.length > 0 && !selectedNeighborhood) {\n            setSelectedNeighborhood(names[0]);\n          }\n        }\n      } catch (error) {\n        console.error(\"Mahalle listesi yÃ¼klenemedi:\", error);\n        setNeighborhoods([]);\n      }\n    };\n    fetchNeighborhoods();\n  }, []);\n\n  // Fetch documents\n  useEffect(() => {\n    if (activePage === \"belgeler\") {\n      fetchDocuments();\n    }\n  }, [activePage]);\n\n  // Fetch statistical summary\n  useEffect(() => {\n    if (activePage === \"istatistik\") {\n      fetchStatisticalSummary();\n    }\n  }, [activePage, selectedMonth, selectedYear]);\n\n  // Fetch time series analysis\n  useEffect(() => {\n    if (activePage === \"zaman\") {\n      fetchTimeSeriesAnalysis();\n    }\n  }, [activePage, selectedYear]);\n  const fetchDocuments = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get(\"/analytics/documents\");\n      if (response.data && response.data.success) {\n        // Filter out documents with invalid URLs\n        const validDocuments = (response.data.data || []).filter(doc => doc.download_url && doc.download_url.trim() !== '' && doc.download_url !== 'null' && doc.download_url !== 'undefined');\n        setDocuments(validDocuments);\n      } else {\n        setDocuments([]);\n      }\n    } catch (error) {\n      console.error(\"Belgeler yÃ¼klenemedi:\", error);\n      setDocuments([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchStatisticalSummary = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get(`/analytics/statistical-summary?month=${selectedMonth}&year=${selectedYear}`, {\n        timeout: 60000 // 60 seconds for large data operations\n      });\n      if (response.data && response.data.success) {\n        setStatisticalSummary(response.data.data || []);\n      } else {\n        console.error(\"Ä°statistik Ã¶zeti baÅŸarÄ±sÄ±z:\", response.data);\n        setStatisticalSummary([]);\n      }\n    } catch (error) {\n      console.error(\"Ä°statistik Ã¶zeti yÃ¼klenemedi:\", error);\n      if (error.code === 'ECONNABORTED') {\n        alert(\"Ä°stek zaman aÅŸÄ±mÄ±na uÄŸradÄ±. LÃ¼tfen tekrar deneyin.\");\n      } else {\n        var _error$response, _error$response$data;\n        alert(\"Veri yÃ¼klenirken hata oluÅŸtu: \" + (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || error.message));\n      }\n      setStatisticalSummary([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchTimeSeriesAnalysis = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get(`/analytics/time-series?year=${selectedYear}`, {\n        timeout: 60000 // 60 seconds for large data operations\n      });\n      if (response.data && response.data.success) {\n        setTimeSeriesAnalysis(response.data.data || null);\n      } else {\n        console.error(\"Zaman serisi analizi baÅŸarÄ±sÄ±z:\", response.data);\n        setTimeSeriesAnalysis(null);\n      }\n    } catch (error) {\n      console.error(\"Zaman serisi analizi yÃ¼klenemedi:\", error);\n      if (error.code === 'ECONNABORTED') {\n        alert(\"Ä°stek zaman aÅŸÄ±mÄ±na uÄŸradÄ±. LÃ¼tfen tekrar deneyin.\");\n      } else {\n        var _error$response2, _error$response2$data;\n        alert(\"Veri yÃ¼klenirken hata oluÅŸtu: \" + (((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || error.message));\n      }\n      setTimeSeriesAnalysis(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Helper function to trigger browser download\n  const downloadPDF = (url, filename) => {\n    try {\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = filename || 'rapor.pdf';\n      link.target = '_blank';\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    } catch (error) {\n      console.error(\"PDF indirme hatasÄ±:\", error);\n      // Fallback: open in new tab\n      window.open(url, '_blank');\n    }\n  };\n  const handleGenerateReport = async () => {\n    // RELIABILITY: Prevent generation if no neighborhood selected\n    if (!selectedNeighborhood || selectedNeighborhood === \"\" || selectedNeighborhood === \"all\") {\n      alert(\"âš ï¸ LÃ¼tfen bir mahalle seÃ§in! Rapor oluÅŸturmak iÃ§in mahalle seÃ§imi zorunludur.\");\n      return;\n    }\n    try {\n      setGeneratingReport(true);\n      setReportProgress(\"Veri hazÄ±rlanÄ±yor...\");\n\n      // Prepare filters for MongoDB query optimization\n      // Note: mahalle is now always required (no \"all\" option)\n      const payload = {\n        month: selectedMonth,\n        year: selectedYear,\n        mahalle: selectedNeighborhood,\n        // Always a specific neighborhood\n        resource: selectedResource === \"all\" ? \"all\" : selectedResource // Send \"all\" explicitly\n      };\n      console.log('ðŸ“¤ Sending report generation request:', payload);\n      setReportProgress(\"MongoDB'den veri Ã§ekiliyor (chunking ile optimize edildi)...\");\n      const response = await api.post(\"/analytics/generate-report\", payload, {\n        timeout: 120000 // 120 seconds (2 minutes) for chunked PDF generation\n      });\n      setReportProgress(\"PDF oluÅŸturuluyor...\");\n      if (response.data && response.data.success) {\n        var _response$data$data;\n        const downloadUrl = (_response$data$data = response.data.data) === null || _response$data$data === void 0 ? void 0 : _response$data$data.downloadUrl;\n\n        // Validate the returned URL with comprehensive safety checks\n        if (downloadUrl && typeof downloadUrl === 'string' && downloadUrl.trim() !== '' && downloadUrl !== 'null' && downloadUrl !== 'undefined' && (downloadUrl.startsWith('http://') || downloadUrl.startsWith('https://'))) {\n          try {\n            // Try to construct URL to validate it\n            new URL(downloadUrl);\n            setReportProgress(\"âœ… Rapor baÅŸarÄ±yla oluÅŸturuldu!\");\n\n            // AUTO-DOWNLOAD: Trigger browser download immediately\n            const fileName = `rapor_${selectedYear}_${String(selectedMonth).padStart(2, '0')}_${selectedNeighborhood.replace(/[^a-zA-Z0-9]/g, '_')}.pdf`;\n            downloadPDF(downloadUrl, fileName);\n\n            // UI UPDATE: Refresh documents list immediately after successful upload\n            setReportProgress(\"ðŸ“‹ Liste gÃ¼ncelleniyor...\");\n            await fetchDocuments(); // Refresh documents list\n\n            // SUCCESS TOAST: Show success notification\n            setSuccessMessage(\"âœ… Rapor baÅŸarÄ±yla oluÅŸturuldu, indiriliyor ve liste gÃ¼ncellendi!\");\n            setShowSuccessToast(true);\n\n            // Auto-hide toast after 5 seconds\n            setTimeout(() => {\n              setShowSuccessToast(false);\n            }, 5000);\n            setReportProgress(\"âœ… Rapor baÅŸarÄ±yla oluÅŸturuldu ve yÃ¼klendi!\");\n          } catch (urlError) {\n            console.error(\"GeÃ§ersiz download URL:\", downloadUrl, urlError);\n            setReportProgress(\"âš ï¸ URL hatasÄ±\");\n            alert(\"âš ï¸ Rapor oluÅŸturuldu ancak geÃ§ersiz indirme URL'si dÃ¶ndÃ¼. LÃ¼tfen belgeler listesini kontrol edin.\");\n            await fetchDocuments(); // Refresh documents list anyway\n          }\n        } else {\n          setReportProgress(\"âš ï¸ URL alÄ±namadÄ±\");\n          alert(\"âš ï¸ Rapor oluÅŸturuldu ancak indirme URL'si alÄ±namadÄ±. LÃ¼tfen belgeler listesini kontrol edin.\");\n          await fetchDocuments(); // Refresh documents list anyway\n        }\n      } else {\n        var _response$data;\n        const errorMsg = ((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.message) || \"Bilinmeyen hata\";\n        setReportProgress(\"âŒ Hata: \" + errorMsg);\n        alert(\"Rapor oluÅŸturulamadÄ±: \" + errorMsg);\n      }\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      console.error(\"Rapor oluÅŸturma hatasÄ±:\", error);\n      setReportProgress(\"âŒ Hata oluÅŸtu\");\n      if (error.code === 'ECONNABORTED') {\n        alert(\"Rapor oluÅŸturma iÅŸlemi zaman aÅŸÄ±mÄ±na uÄŸradÄ±. Chunking ile optimize edilmiÅŸ iÅŸlem 2 dakika sÃ¼rebilir. LÃ¼tfen tekrar deneyin.\");\n      } else if ((_error$response3 = error.response) !== null && _error$response3 !== void 0 && (_error$response3$data = _error$response3.data) !== null && _error$response3$data !== void 0 && _error$response3$data.message) {\n        // Check if it's a Supabase configuration error\n        if (error.response.data.message.includes('Supabase not configured')) {\n          alert(\"Supabase yapÄ±landÄ±rmasÄ± eksik! LÃ¼tfen backend/.env dosyasÄ±nda SUPABASE_URL ve SUPABASE_SERVICE_ROLE_KEY deÄŸiÅŸkenlerini kontrol edin.\");\n        } else if (error.response.data.message.includes('Sort exceeded memory limit')) {\n          alert(\"MongoDB bellek hatasÄ±! LÃ¼tfen daha spesifik filtreler seÃ§in (Ã¶r: belirli bir mahalle).\");\n        } else {\n          alert(\"Rapor oluÅŸturulurken hata oluÅŸtu: \" + error.response.data.message);\n        }\n      } else {\n        alert(\"Rapor oluÅŸturulurken hata oluÅŸtu: \" + (error.message || \"Bilinmeyen hata\"));\n      }\n    } finally {\n      setGeneratingReport(false);\n      setReportProgress(\"\");\n    }\n  };\n  const formatDate = dateString => {\n    try {\n      return new Date(dateString).toLocaleDateString(\"tr-TR\", {\n        year: \"numeric\",\n        month: \"long\",\n        day: \"numeric\"\n      });\n    } catch {\n      return dateString;\n    }\n  };\n\n  // Delete document handler\n  const handleDeleteDocument = async (docId, docName) => {\n    // Show confirmation alert\n    const confirmed = window.confirm(`Bu raporu silmek istediÄŸinize emin misiniz?\\n\\nRapor: ${docName}\\n\\nBu iÅŸlem geri alÄ±namaz.`);\n    if (!confirmed) {\n      return;\n    }\n    try {\n      // Call DELETE API\n      const response = await api.delete(`/analytics/documents/${docId}`);\n      if (response.data && response.data.success) {\n        // Remove item from documents state immediately (no refresh needed)\n        setDocuments(prevDocuments => prevDocuments.filter(doc => doc.id !== docId));\n\n        // Show success message\n        setSuccessMessage(\"âœ… Rapor baÅŸarÄ±yla silindi!\");\n        setShowSuccessToast(true);\n        setTimeout(() => {\n          setShowSuccessToast(false);\n        }, 3000);\n      } else {\n        var _response$data2;\n        alert(\"Rapor silinirken hata oluÅŸtu: \" + (((_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.message) || \"Bilinmeyen hata\"));\n      }\n    } catch (error) {\n      var _error$response4, _error$response4$data;\n      console.error(\"Rapor silme hatasÄ±:\", error);\n      alert(\"Rapor silinirken hata oluÅŸtu: \" + (((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.message) || error.message || \"Bilinmeyen hata\"));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pt-24 px-8 min-h-screen bg-[#DDEEE3]\",\n    children: [showSuccessToast && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed top-20 right-8 z-50 animate-slide-in\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-emerald-600 text-white px-6 py-4 rounded-lg shadow-lg flex items-center gap-3 min-w-[300px]\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-semibold\",\n            children: successMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowSuccessToast(false),\n          className: \"text-white hover:text-emerald-100 transition\",\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-4 mb-8 flex-wrap\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setActivePage(\"belgeler\"),\n        className: `px-6 py-2 rounded-full font-bold transition-all\n            ${activePage === \"belgeler\" ? \"bg-emerald-600 text-white shadow\" : \"bg-white text-emerald-700 hover:bg-emerald-100\"}`,\n        children: [/*#__PURE__*/_jsxDEV(FileText, {\n          className: \"inline-block mr-2\",\n          size: 18\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 11\n        }, this), \"Belgeler\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setActivePage(\"istatistik\"),\n        className: `px-6 py-2 rounded-full font-bold transition-all\n            ${activePage === \"istatistik\" ? \"bg-emerald-600 text-white shadow\" : \"bg-white text-emerald-700 hover:bg-emerald-100\"}`,\n        children: [/*#__PURE__*/_jsxDEV(TrendingUp, {\n          className: \"inline-block mr-2\",\n          size: 18\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 11\n        }, this), \"\\u0130statistik \\xD6zeti\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setActivePage(\"zaman\"),\n        className: `px-6 py-2 rounded-full font-bold transition-all\n            ${activePage === \"zaman\" ? \"bg-emerald-600 text-white shadow\" : \"bg-white text-emerald-700 hover:bg-emerald-100\"}`,\n        children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n          className: \"inline-block mr-2\",\n          size: 18\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 11\n        }, this), \"Zaman Serisi Analizi\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-2xl p-10 shadow-lg\",\n      children: [activePage === \"belgeler\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-gray-800 flex items-center gap-3 mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(FileText, {\n              className: \"text-emerald-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 17\n            }, this), \"PDF Belgeler\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-emerald-50 rounded-lg p-4 mb-4 border border-emerald-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-sm font-semibold text-gray-700 mb-3\",\n              children: \"Rapor Filtreleri\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-4 gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-xs font-medium text-gray-600 mb-1\",\n                  children: \"Mahalle\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 408,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: selectedNeighborhood,\n                  onChange: e => setSelectedNeighborhood(e.target.value),\n                  className: \"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500\",\n                  disabled: neighborhoods.length === 0 || generatingReport,\n                  required: true,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"-- Mahalle Se\\xE7in (Zorunlu) --\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 416,\n                    columnNumber: 23\n                  }, this), neighborhoods.map(neighborhood => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: neighborhood,\n                    children: neighborhood\n                  }, neighborhood, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 418,\n                    columnNumber: 25\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 409,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 407,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-xs font-medium text-gray-600 mb-1\",\n                  children: \"Kaynak\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 427,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: selectedResource,\n                  onChange: e => setSelectedResource(e.target.value),\n                  className: \"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500\",\n                  disabled: generatingReport,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"all\",\n                    children: \"T\\xFCm Kaynaklar\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 434,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"elektrik\",\n                    children: \"Elektrik\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 435,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"su\",\n                    children: \"Su\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 436,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"dogalgaz\",\n                    children: \"Do\\u011Falgaz\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 437,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-xs font-medium text-gray-600 mb-1\",\n                  children: \"Ay\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 443,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: selectedMonth,\n                  onChange: e => setSelectedMonth(parseInt(e.target.value)),\n                  className: \"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500\",\n                  disabled: generatingReport,\n                  children: (() => {\n                    // Dynamic Month Filter: Hide current month and future months\n                    const today = new Date();\n                    const currentMonthNum = today.getMonth() + 1; // 1-12\n                    const currentYearNum = today.getFullYear();\n\n                    // If selected year is current year: only show months less than current month\n                    // If selected year is past: show all 12 months\n                    const maxMonth = selectedYear === currentYearNum ? currentMonthNum - 1 // Hide current month and future\n                    : 12; // Show all months for past years\n\n                    return Array.from({\n                      length: maxMonth\n                    }, (_, i) => i + 1).map(m => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: m,\n                      children: [m, \". Ay\"]\n                    }, m, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 463,\n                      columnNumber: 27\n                    }, this));\n                  })()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 444,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-xs font-medium text-gray-600 mb-1\",\n                  children: \"Y\\u0131l\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 473,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: selectedYear,\n                  onChange: e => {\n                    const newYear = parseInt(e.target.value);\n                    setSelectedYear(newYear);\n\n                    // Validate month when year changes\n                    const today = new Date();\n                    const currentMonthNum = today.getMonth() + 1;\n                    const currentYearNum = today.getFullYear();\n\n                    // If new year is current year and selected month is >= current month, reset to previous month\n                    if (newYear === currentYearNum && selectedMonth >= currentMonthNum) {\n                      const prevMonth = currentMonthNum === 1 ? 12 : currentMonthNum - 1;\n                      setSelectedMonth(prevMonth);\n                    }\n                  },\n                  className: \"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500\",\n                  disabled: generatingReport,\n                  children: Array.from({\n                    length: 5\n                  }, (_, i) => new Date().getFullYear() - i).map(y => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: y,\n                    children: y\n                  }, y, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 495,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 474,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 472,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 flex items-center justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleGenerateReport,\n                disabled: generatingReport || !selectedNeighborhood || selectedNeighborhood === \"\",\n                className: \"bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-2 rounded-lg font-semibold transition flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\",\n                children: generatingReport ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(Loader2, {\n                    className: \"animate-spin\",\n                    size: 18\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 512,\n                    columnNumber: 25\n                  }, this), \"\\u0130\\u015Fleniyor...\"]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(Calendar, {\n                    size: 18\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 517,\n                    columnNumber: 25\n                  }, this), \"Rapor Olu\\u015Ftur\"]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 505,\n                columnNumber: 19\n              }, this), reportProgress && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-emerald-700 font-medium\",\n                children: reportProgress\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 524,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 504,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 13\n        }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-10\",\n          children: [/*#__PURE__*/_jsxDEV(Loader2, {\n            className: \"animate-spin mx-auto mb-4 text-emerald-600\",\n            size: 32\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 534,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600\",\n            children: \"Belgeler y\\xFCkleniyor...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 535,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 533,\n          columnNumber: 15\n        }, this) : documents.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-10 text-gray-500\",\n          children: [/*#__PURE__*/_jsxDEV(FileText, {\n            size: 48,\n            className: \"mx-auto mb-4 opacity-50\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 539,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Hen\\xFCz belge bulunmuyor.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 540,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm mt-2\",\n            children: \"Yukar\\u0131daki butona t\\u0131klayarak yeni rapor olu\\u015Fturabilirsiniz.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 541,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",\n          children: documents.map((doc, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border border-gray-200 rounded-lg p-4 hover:shadow-md transition\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-start justify-between mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2 mb-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"font-semibold text-gray-800\",\n                    children: doc.neighborhood_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 553,\n                    columnNumber: 27\n                  }, this), (() => {\n                    const resourceType = doc.resource || doc.resourceType || 'all';\n                    if (resourceType === 'elektrik') {\n                      return /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs font-semibold bg-yellow-100 text-yellow-800\",\n                        children: \"\\u26A1 Elektrik\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 559,\n                        columnNumber: 33\n                      }, this);\n                    } else if (resourceType === 'su') {\n                      return /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs font-semibold bg-blue-100 text-blue-800\",\n                        children: \"\\uD83D\\uDCA7 Su\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 565,\n                        columnNumber: 33\n                      }, this);\n                    } else if (resourceType === 'dogalgaz') {\n                      return /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs font-semibold bg-orange-100 text-orange-800\",\n                        children: \"\\uD83D\\uDD25 Do\\u011Falgaz\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 571,\n                        columnNumber: 33\n                      }, this);\n                    } else {\n                      return /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs font-semibold bg-gray-100 text-gray-800\",\n                        children: \"\\uD83D\\uDCCB T\\xFCm Kaynaklar\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 577,\n                        columnNumber: 33\n                      }, this);\n                    }\n                  })()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 552,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-500\",\n                  children: [doc.month, \"/\", doc.year]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 584,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 551,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(FileText, {\n                className: \"text-emerald-600\",\n                size: 24\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 588,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 550,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-400 mb-3\",\n              children: formatDate(doc.report_date || doc.created_at)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 590,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [(() => {\n                // Validate URL before using it\n                const isValidUrl = doc.download_url && doc.download_url.trim() !== '' && doc.download_url !== 'null' && doc.download_url !== 'undefined' && (doc.download_url.startsWith('http://') || doc.download_url.startsWith('https://'));\n                if (isValidUrl) {\n                  try {\n                    // Try to construct URL to validate it\n                    new URL(doc.download_url);\n                    return /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: doc.download_url,\n                      target: \"_blank\",\n                      rel: \"noopener noreferrer\",\n                      className: \"inline-flex items-center gap-2 bg-emerald-100 hover:bg-emerald-200 text-emerald-700 px-4 py-2 rounded-lg text-sm font-medium transition\",\n                      onClick: e => {\n                        // Ensure it opens in new tab and triggers download\n                        e.preventDefault();\n                        window.open(doc.download_url, '_blank');\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(Download, {\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 618,\n                        columnNumber: 33\n                      }, this), \"\\u0130ndir\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 607,\n                      columnNumber: 31\n                    }, this);\n                  } catch (urlError) {\n                    console.error('Invalid URL:', doc.download_url, urlError);\n                    return /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"inline-flex items-center gap-2 bg-gray-100 text-gray-500 px-4 py-2 rounded-lg text-sm font-medium cursor-not-allowed\",\n                      children: [/*#__PURE__*/_jsxDEV(Download, {\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 626,\n                        columnNumber: 33\n                      }, this), \"Ge\\xE7ersiz URL\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 625,\n                      columnNumber: 31\n                    }, this);\n                  }\n                } else {\n                  return /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"inline-flex items-center gap-2 bg-gray-100 text-gray-500 px-4 py-2 rounded-lg text-sm font-medium cursor-not-allowed\",\n                    children: [/*#__PURE__*/_jsxDEV(Download, {\n                      size: 16\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 634,\n                      columnNumber: 31\n                    }, this), \"URL Yok\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 633,\n                    columnNumber: 29\n                  }, this);\n                }\n              })(), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDeleteDocument(doc.id, `${doc.neighborhood_name} - ${doc.month}/${doc.year}`),\n                className: \"inline-flex items-center gap-2 bg-red-100 hover:bg-red-200 text-red-700 px-4 py-2 rounded-lg text-sm font-medium transition\",\n                title: \"Raporu Sil\",\n                children: [/*#__PURE__*/_jsxDEV(Trash2, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 647,\n                  columnNumber: 25\n                }, this), \"Sil\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 642,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 593,\n              columnNumber: 21\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 544,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 11\n      }, this), activePage === \"istatistik\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-gray-800 flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(TrendingUp, {\n              className: \"text-emerald-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 663,\n              columnNumber: 17\n            }, this), \"\\u0130statistik \\xD6zeti\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 662,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedMonth,\n              onChange: e => setSelectedMonth(parseInt(e.target.value)),\n              className: \"border border-gray-300 rounded-lg px-3 py-2 text-sm\",\n              children: Array.from({\n                length: 12\n              }, (_, i) => i + 1).map(m => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: m,\n                children: [m, \". Ay\"]\n              }, m, true, {\n                fileName: _jsxFileName,\n                lineNumber: 673,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 667,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedYear,\n              onChange: e => setSelectedYear(parseInt(e.target.value)),\n              className: \"border border-gray-300 rounded-lg px-3 py-2 text-sm\",\n              children: Array.from({\n                length: 5\n              }, (_, i) => new Date().getFullYear() - i).map(y => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: y,\n                children: y\n              }, y, false, {\n                fileName: _jsxFileName,\n                lineNumber: 684,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 678,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 666,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 661,\n          columnNumber: 13\n        }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-10\",\n          children: [/*#__PURE__*/_jsxDEV(Loader2, {\n            className: \"animate-spin mx-auto mb-4 text-emerald-600\",\n            size: 32\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 694,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600\",\n            children: \"Veriler y\\xFCkleniyor...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 695,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 693,\n          columnNumber: 15\n        }, this) : !statisticalSummary || statisticalSummary.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-10 text-gray-500\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Bu d\\xF6nem i\\xE7in veri bulunamad\\u0131.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 699,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 698,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overflow-x-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"w-full text-left border-collapse\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"bg-emerald-50 text-gray-700\",\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"p-4 font-semibold border-b\",\n                  children: \"Mahalle\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 706,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"p-4 font-semibold border-b\",\n                  children: \"Elektrik (Ort/Zirve/D\\xFC\\u015F\\xFCk)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 707,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"p-4 font-semibold border-b\",\n                  children: \"Su (Ort/Zirve/D\\xFC\\u015F\\xFCk)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 708,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"p-4 font-semibold border-b\",\n                  children: \"Do\\u011Falgaz (Ort/Zirve/D\\xFC\\u015F\\xFCk)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 709,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"p-4 font-semibold border-b\",\n                  children: \"De\\u011Fi\\u015Fim\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 710,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 705,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 704,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: statisticalSummary.map((item, index) => {\n                var _item$elektrik, _item$su, _item$dogalgaz;\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"border-b hover:bg-gray-50\",\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"p-4 font-medium\",\n                    children: item.mahalle\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 716,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"p-4 text-sm\",\n                    children: item.elektrik ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [item.elektrik.average.toFixed(2), \" / \", item.elektrik.peak.toFixed(2), \" /\", \" \", item.elektrik.lowest.toFixed(2), \" kWh\"]\n                    }, void 0, true) : \"-\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 717,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"p-4 text-sm\",\n                    children: item.su ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [item.su.average.toFixed(2), \" / \", item.su.peak.toFixed(2), \" /\", \" \", item.su.lowest.toFixed(2), \" m\\xB3\"]\n                    }, void 0, true) : \"-\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 727,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"p-4 text-sm\",\n                    children: item.dogalgaz ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [item.dogalgaz.average.toFixed(2), \" / \", item.dogalgaz.peak.toFixed(2), \" /\", \" \", item.dogalgaz.lowest.toFixed(2), \" m\\xB3\"]\n                    }, void 0, true) : \"-\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 737,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"p-4 text-sm\",\n                    children: [((_item$elektrik = item.elektrik) === null || _item$elektrik === void 0 ? void 0 : _item$elektrik.change) && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `px-2 py-1 rounded ${item.elektrik.change.increased ? \"bg-red-100 text-red-700\" : \"bg-green-100 text-green-700\"}`,\n                      children: [\"E: \", item.elektrik.change.percentage, \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 749,\n                      columnNumber: 29\n                    }, this), ((_item$su = item.su) === null || _item$su === void 0 ? void 0 : _item$su.change) && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `px-2 py-1 rounded ml-1 ${item.su.change.increased ? \"bg-red-100 text-red-700\" : \"bg-green-100 text-green-700\"}`,\n                      children: [\"S: \", item.su.change.percentage, \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 760,\n                      columnNumber: 29\n                    }, this), ((_item$dogalgaz = item.dogalgaz) === null || _item$dogalgaz === void 0 ? void 0 : _item$dogalgaz.change) && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `px-2 py-1 rounded ml-1 ${item.dogalgaz.change.increased ? \"bg-red-100 text-red-700\" : \"bg-green-100 text-green-700\"}`,\n                      children: [\"D: \", item.dogalgaz.change.percentage, \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 771,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 747,\n                    columnNumber: 25\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 715,\n                  columnNumber: 23\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 713,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 703,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 702,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 660,\n        columnNumber: 11\n      }, this), activePage === \"zaman\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-gray-800 flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n              className: \"text-emerald-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 796,\n              columnNumber: 17\n            }, this), \"Zaman Serisi Analizi\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 795,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedYear,\n            onChange: e => setSelectedYear(parseInt(e.target.value)),\n            className: \"border border-gray-300 rounded-lg px-3 py-2 text-sm\",\n            children: Array.from({\n              length: 5\n            }, (_, i) => new Date().getFullYear() - i).map(y => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: y,\n              children: y\n            }, y, false, {\n              fileName: _jsxFileName,\n              lineNumber: 805,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 799,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 794,\n          columnNumber: 13\n        }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-10\",\n          children: [/*#__PURE__*/_jsxDEV(Loader2, {\n            className: \"animate-spin mx-auto mb-4 text-emerald-600\",\n            size: 32\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 814,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600\",\n            children: \"Veriler y\\xFCkleniyor...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 815,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 813,\n          columnNumber: 15\n        }, this) : !timeSeriesAnalysis ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-10 text-gray-500\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Bu d\\xF6nem i\\xE7in veri bulunamad\\u0131.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 819,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 818,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-bold text-gray-800 mb-4\",\n              children: \"Mevsimsel T\\xFCketim\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 825,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",\n              children: Object.values(timeSeriesAnalysis.seasonalConsumption || {}).map((season, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border border-gray-200 rounded-lg p-4 bg-emerald-50\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-semibold text-gray-800 mb-3\",\n                  children: season.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 833,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-2 text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium\",\n                      children: \"Elektrik:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 836,\n                      columnNumber: 31\n                    }, this), \" \", season.elektrik.average.toFixed(2), \" kWh\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 835,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium\",\n                      children: \"Su:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 840,\n                      columnNumber: 31\n                    }, this), \" \", season.su.average.toFixed(2), \" m\\xB3\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 839,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium\",\n                      children: \"Do\\u011Falgaz:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 843,\n                      columnNumber: 31\n                    }, this), \" \", season.dogalgaz.average.toFixed(2), \" m\\xB3\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 842,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 834,\n                  columnNumber: 27\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 829,\n                columnNumber: 25\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 826,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 824,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-bold text-gray-800 mb-4\",\n              children: \"Mevsimsel Ar\\u0131za Frekans\\u0131\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 855,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",\n              children: Object.values(timeSeriesAnalysis.seasonalIncidents || {}).map((season, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border border-gray-200 rounded-lg p-4 bg-red-50\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-semibold text-gray-800 mb-3\",\n                  children: season.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 863,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-lg font-bold text-red-600 mb-2\",\n                  children: [\"Toplam: \", season.count, \" ar\\u0131za\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 864,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-1 text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [\"Elektrik: \", season.byResource.Elektrik]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 868,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [\"Su: \", season.byResource.Su]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 869,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [\"Do\\u011Falgaz: \", season.byResource.Dogalgaz]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 870,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 867,\n                  columnNumber: 27\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 859,\n                columnNumber: 25\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 856,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 854,\n            columnNumber: 17\n          }, this), timeSeriesAnalysis.correlations && timeSeriesAnalysis.correlations.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-bold text-gray-800 mb-4\",\n              children: \"Korelasyon Analizi\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 881,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n              children: timeSeriesAnalysis.correlations.map((corr, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border border-gray-200 rounded-lg p-4 bg-blue-50\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-semibold text-gray-800 mb-3 uppercase\",\n                  children: corr.resource\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 888,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-2 text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium\",\n                      children: \"Zirve Mevsim:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 893,\n                      columnNumber: 31\n                    }, this), \" \", corr.peakSeason, \" (\", corr.peakValue.toFixed(2), \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 892,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium\",\n                      children: \"En D\\xFC\\u015F\\xFCk Mevsim:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 897,\n                      columnNumber: 31\n                    }, this), \" \", corr.lowestSeason, \" (\", corr.lowestValue.toFixed(2), \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 896,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 891,\n                  columnNumber: 27\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 884,\n                columnNumber: 25\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 882,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 880,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 822,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 793,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 331,\n    columnNumber: 5\n  }, this);\n};\n_s(AnalitikModuller, \"JmBBN6fuXSHvWY+7LZq8QN8m0x4=\");\n_c = AnalitikModuller;\nexport default AnalitikModuller;\nvar _c;\n$RefreshReg$(_c, \"AnalitikModuller\");","map":{"version":3,"names":["React","useState","useEffect","api","FileText","TrendingUp","BarChart3","Download","Calendar","Loader2","Trash2","jsxDEV","_jsxDEV","Fragment","_Fragment","AnalitikModuller","_s","activePage","setActivePage","loading","setLoading","documents","setDocuments","statisticalSummary","setStatisticalSummary","timeSeriesAnalysis","setTimeSeriesAnalysis","generatingReport","setGeneratingReport","today","Date","currentMonth","getMonth","currentYear","getFullYear","previousMonth","previousYear","selectedMonth","setSelectedMonth","selectedYear","setSelectedYear","currentMonthNum","currentYearNum","prevMonth","console","log","neighborhoods","setNeighborhoods","selectedNeighborhood","setSelectedNeighborhood","selectedResource","setSelectedResource","reportProgress","setReportProgress","showSuccessToast","setShowSuccessToast","successMessage","setSuccessMessage","fetchNeighborhoods","response","get","data","success","names","map","item","mahalle","length","error","fetchDocuments","fetchStatisticalSummary","fetchTimeSeriesAnalysis","validDocuments","filter","doc","download_url","trim","timeout","code","alert","_error$response","_error$response$data","message","_error$response2","_error$response2$data","downloadPDF","url","filename","link","document","createElement","href","download","target","body","appendChild","click","removeChild","window","open","handleGenerateReport","payload","month","year","resource","post","_response$data$data","downloadUrl","startsWith","URL","fileName","String","padStart","replace","setTimeout","urlError","_response$data","errorMsg","_error$response3","_error$response3$data","includes","formatDate","dateString","toLocaleDateString","day","handleDeleteDocument","docId","docName","confirmed","confirm","delete","prevDocuments","id","_response$data2","_error$response4","_error$response4$data","className","children","_jsxFileName","lineNumber","columnNumber","onClick","size","value","onChange","e","disabled","required","neighborhood","parseInt","maxMonth","Array","from","_","i","m","newYear","y","index","neighborhood_name","resourceType","report_date","created_at","isValidUrl","rel","preventDefault","title","_item$elektrik","_item$su","_item$dogalgaz","elektrik","average","toFixed","peak","lowest","su","dogalgaz","change","increased","percentage","Object","values","seasonalConsumption","season","name","seasonalIncidents","count","byResource","Elektrik","Su","Dogalgaz","correlations","corr","peakSeason","peakValue","lowestSeason","lowestValue","_c","$RefreshReg$"],"sources":["/Users/berfinaslan/yeni veri proje/tuketim-takip-sistemi/frontend/src/pages/yonetim/AnalitikModuller.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport api from \"../../services/api\";\nimport { FileText, TrendingUp, BarChart3, Download, Calendar, Loader2, Trash2 } from \"lucide-react\";\n\nconst AnalitikModuller = () => {\n  const [activePage, setActivePage] = useState(\"belgeler\");\n  const [loading, setLoading] = useState(false);\n  const [documents, setDocuments] = useState([]);\n  const [statisticalSummary, setStatisticalSummary] = useState(null);\n  const [timeSeriesAnalysis, setTimeSeriesAnalysis] = useState(null);\n  const [generatingReport, setGeneratingReport] = useState(false);\n  // Smart Date Filter: Default to previous month (not current month)\n  const today = new Date();\n  const currentMonth = today.getMonth() + 1; // 1-12\n  const currentYear = today.getFullYear();\n  const previousMonth = currentMonth === 1 ? 12 : currentMonth - 1;\n  const previousYear = currentMonth === 1 ? currentYear - 1 : currentYear;\n  \n  const [selectedMonth, setSelectedMonth] = useState(previousMonth);\n  const [selectedYear, setSelectedYear] = useState(previousYear);\n  \n  // Auto-fix invalid month selection (when month becomes hidden)\n  useEffect(() => {\n    const today = new Date();\n    const currentMonthNum = today.getMonth() + 1;\n    const currentYearNum = today.getFullYear();\n    \n    // If selected year is current year and selected month is current or future month\n    if (selectedYear === currentYearNum && selectedMonth >= currentMonthNum) {\n      // Auto-select previous month\n      const prevMonth = currentMonthNum === 1 ? 12 : currentMonthNum - 1;\n      console.log(`ðŸ”„ Auto-fixing invalid month selection: ${selectedMonth} -> ${prevMonth}`);\n      setSelectedMonth(prevMonth);\n    }\n  }, [selectedYear, selectedMonth]);\n  \n  // Filter states for report generation\n  const [neighborhoods, setNeighborhoods] = useState([]);\n  const [selectedNeighborhood, setSelectedNeighborhood] = useState(\"\"); // Empty by default - must select a neighborhood\n  const [selectedResource, setSelectedResource] = useState(\"all\");\n  const [reportProgress, setReportProgress] = useState(\"\");\n  const [showSuccessToast, setShowSuccessToast] = useState(false);\n  const [successMessage, setSuccessMessage] = useState(\"\");\n\n  // Fetch neighborhoods list for filter dropdown\n  useEffect(() => {\n    const fetchNeighborhoods = async () => {\n      try {\n        const response = await api.get(\"/stats/dashboard\");\n        if (response.data && response.data.success) {\n          const names = response.data.data.map(item => item.mahalle);\n          setNeighborhoods(names);\n          // Auto-select first neighborhood if none selected\n          if (names.length > 0 && !selectedNeighborhood) {\n            setSelectedNeighborhood(names[0]);\n          }\n        }\n      } catch (error) {\n        console.error(\"Mahalle listesi yÃ¼klenemedi:\", error);\n        setNeighborhoods([]);\n      }\n    };\n    fetchNeighborhoods();\n  }, []);\n\n  // Fetch documents\n  useEffect(() => {\n    if (activePage === \"belgeler\") {\n      fetchDocuments();\n    }\n  }, [activePage]);\n\n  // Fetch statistical summary\n  useEffect(() => {\n    if (activePage === \"istatistik\") {\n      fetchStatisticalSummary();\n    }\n  }, [activePage, selectedMonth, selectedYear]);\n\n  // Fetch time series analysis\n  useEffect(() => {\n    if (activePage === \"zaman\") {\n      fetchTimeSeriesAnalysis();\n    }\n  }, [activePage, selectedYear]);\n\n  const fetchDocuments = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get(\"/analytics/documents\");\n      if (response.data && response.data.success) {\n        // Filter out documents with invalid URLs\n        const validDocuments = (response.data.data || []).filter(doc => \n          doc.download_url && \n          doc.download_url.trim() !== '' && \n          doc.download_url !== 'null' &&\n          doc.download_url !== 'undefined'\n        );\n        setDocuments(validDocuments);\n      } else {\n        setDocuments([]);\n      }\n    } catch (error) {\n      console.error(\"Belgeler yÃ¼klenemedi:\", error);\n      setDocuments([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchStatisticalSummary = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get(\n        `/analytics/statistical-summary?month=${selectedMonth}&year=${selectedYear}`,\n        {\n          timeout: 60000 // 60 seconds for large data operations\n        }\n      );\n      if (response.data && response.data.success) {\n        setStatisticalSummary(response.data.data || []);\n      } else {\n        console.error(\"Ä°statistik Ã¶zeti baÅŸarÄ±sÄ±z:\", response.data);\n        setStatisticalSummary([]);\n      }\n    } catch (error) {\n      console.error(\"Ä°statistik Ã¶zeti yÃ¼klenemedi:\", error);\n      if (error.code === 'ECONNABORTED') {\n        alert(\"Ä°stek zaman aÅŸÄ±mÄ±na uÄŸradÄ±. LÃ¼tfen tekrar deneyin.\");\n      } else {\n        alert(\"Veri yÃ¼klenirken hata oluÅŸtu: \" + (error.response?.data?.message || error.message));\n      }\n      setStatisticalSummary([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchTimeSeriesAnalysis = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get(`/analytics/time-series?year=${selectedYear}`, {\n        timeout: 60000 // 60 seconds for large data operations\n      });\n      if (response.data && response.data.success) {\n        setTimeSeriesAnalysis(response.data.data || null);\n      } else {\n        console.error(\"Zaman serisi analizi baÅŸarÄ±sÄ±z:\", response.data);\n        setTimeSeriesAnalysis(null);\n      }\n    } catch (error) {\n      console.error(\"Zaman serisi analizi yÃ¼klenemedi:\", error);\n      if (error.code === 'ECONNABORTED') {\n        alert(\"Ä°stek zaman aÅŸÄ±mÄ±na uÄŸradÄ±. LÃ¼tfen tekrar deneyin.\");\n      } else {\n        alert(\"Veri yÃ¼klenirken hata oluÅŸtu: \" + (error.response?.data?.message || error.message));\n      }\n      setTimeSeriesAnalysis(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Helper function to trigger browser download\n  const downloadPDF = (url, filename) => {\n    try {\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = filename || 'rapor.pdf';\n      link.target = '_blank';\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    } catch (error) {\n      console.error(\"PDF indirme hatasÄ±:\", error);\n      // Fallback: open in new tab\n      window.open(url, '_blank');\n    }\n  };\n\n  const handleGenerateReport = async () => {\n    // RELIABILITY: Prevent generation if no neighborhood selected\n    if (!selectedNeighborhood || selectedNeighborhood === \"\" || selectedNeighborhood === \"all\") {\n      alert(\"âš ï¸ LÃ¼tfen bir mahalle seÃ§in! Rapor oluÅŸturmak iÃ§in mahalle seÃ§imi zorunludur.\");\n      return;\n    }\n\n    try {\n      setGeneratingReport(true);\n      setReportProgress(\"Veri hazÄ±rlanÄ±yor...\");\n      \n      // Prepare filters for MongoDB query optimization\n      // Note: mahalle is now always required (no \"all\" option)\n      const payload = {\n        month: selectedMonth,\n        year: selectedYear,\n        mahalle: selectedNeighborhood, // Always a specific neighborhood\n        resource: selectedResource === \"all\" ? \"all\" : selectedResource // Send \"all\" explicitly\n      };\n      \n      console.log('ðŸ“¤ Sending report generation request:', payload);\n\n      setReportProgress(\"MongoDB'den veri Ã§ekiliyor (chunking ile optimize edildi)...\");\n      \n      const response = await api.post(\"/analytics/generate-report\", payload, {\n        timeout: 120000 // 120 seconds (2 minutes) for chunked PDF generation\n      });\n\n      setReportProgress(\"PDF oluÅŸturuluyor...\");\n\n      if (response.data && response.data.success) {\n        const downloadUrl = response.data.data?.downloadUrl;\n        \n        // Validate the returned URL with comprehensive safety checks\n        if (downloadUrl && \n            typeof downloadUrl === 'string' && \n            downloadUrl.trim() !== '' && \n            downloadUrl !== 'null' && \n            downloadUrl !== 'undefined' &&\n            (downloadUrl.startsWith('http://') || downloadUrl.startsWith('https://'))) {\n          try {\n            // Try to construct URL to validate it\n            new URL(downloadUrl);\n            setReportProgress(\"âœ… Rapor baÅŸarÄ±yla oluÅŸturuldu!\");\n            \n            // AUTO-DOWNLOAD: Trigger browser download immediately\n            const fileName = `rapor_${selectedYear}_${String(selectedMonth).padStart(2, '0')}_${selectedNeighborhood.replace(/[^a-zA-Z0-9]/g, '_')}.pdf`;\n            downloadPDF(downloadUrl, fileName);\n            \n            // UI UPDATE: Refresh documents list immediately after successful upload\n            setReportProgress(\"ðŸ“‹ Liste gÃ¼ncelleniyor...\");\n            await fetchDocuments(); // Refresh documents list\n            \n            // SUCCESS TOAST: Show success notification\n            setSuccessMessage(\"âœ… Rapor baÅŸarÄ±yla oluÅŸturuldu, indiriliyor ve liste gÃ¼ncellendi!\");\n            setShowSuccessToast(true);\n            \n            // Auto-hide toast after 5 seconds\n            setTimeout(() => {\n              setShowSuccessToast(false);\n            }, 5000);\n            \n            setReportProgress(\"âœ… Rapor baÅŸarÄ±yla oluÅŸturuldu ve yÃ¼klendi!\");\n          } catch (urlError) {\n            console.error(\"GeÃ§ersiz download URL:\", downloadUrl, urlError);\n            setReportProgress(\"âš ï¸ URL hatasÄ±\");\n            alert(\"âš ï¸ Rapor oluÅŸturuldu ancak geÃ§ersiz indirme URL'si dÃ¶ndÃ¼. LÃ¼tfen belgeler listesini kontrol edin.\");\n            await fetchDocuments(); // Refresh documents list anyway\n          }\n        } else {\n          setReportProgress(\"âš ï¸ URL alÄ±namadÄ±\");\n          alert(\"âš ï¸ Rapor oluÅŸturuldu ancak indirme URL'si alÄ±namadÄ±. LÃ¼tfen belgeler listesini kontrol edin.\");\n          await fetchDocuments(); // Refresh documents list anyway\n        }\n      } else {\n        const errorMsg = response.data?.message || \"Bilinmeyen hata\";\n        setReportProgress(\"âŒ Hata: \" + errorMsg);\n        alert(\"Rapor oluÅŸturulamadÄ±: \" + errorMsg);\n      }\n    } catch (error) {\n      console.error(\"Rapor oluÅŸturma hatasÄ±:\", error);\n      setReportProgress(\"âŒ Hata oluÅŸtu\");\n      \n      if (error.code === 'ECONNABORTED') {\n        alert(\"Rapor oluÅŸturma iÅŸlemi zaman aÅŸÄ±mÄ±na uÄŸradÄ±. Chunking ile optimize edilmiÅŸ iÅŸlem 2 dakika sÃ¼rebilir. LÃ¼tfen tekrar deneyin.\");\n      } else if (error.response?.data?.message) {\n        // Check if it's a Supabase configuration error\n        if (error.response.data.message.includes('Supabase not configured')) {\n          alert(\"Supabase yapÄ±landÄ±rmasÄ± eksik! LÃ¼tfen backend/.env dosyasÄ±nda SUPABASE_URL ve SUPABASE_SERVICE_ROLE_KEY deÄŸiÅŸkenlerini kontrol edin.\");\n        } else if (error.response.data.message.includes('Sort exceeded memory limit')) {\n          alert(\"MongoDB bellek hatasÄ±! LÃ¼tfen daha spesifik filtreler seÃ§in (Ã¶r: belirli bir mahalle).\");\n        } else {\n          alert(\"Rapor oluÅŸturulurken hata oluÅŸtu: \" + error.response.data.message);\n        }\n      } else {\n        alert(\"Rapor oluÅŸturulurken hata oluÅŸtu: \" + (error.message || \"Bilinmeyen hata\"));\n      }\n    } finally {\n      setGeneratingReport(false);\n      setReportProgress(\"\");\n    }\n  };\n\n  const formatDate = (dateString) => {\n    try {\n      return new Date(dateString).toLocaleDateString(\"tr-TR\", {\n        year: \"numeric\",\n        month: \"long\",\n        day: \"numeric\"\n      });\n    } catch {\n      return dateString;\n    }\n  };\n\n  // Delete document handler\n  const handleDeleteDocument = async (docId, docName) => {\n    // Show confirmation alert\n    const confirmed = window.confirm(\n      `Bu raporu silmek istediÄŸinize emin misiniz?\\n\\nRapor: ${docName}\\n\\nBu iÅŸlem geri alÄ±namaz.`\n    );\n\n    if (!confirmed) {\n      return;\n    }\n\n    try {\n      // Call DELETE API\n      const response = await api.delete(`/analytics/documents/${docId}`);\n\n      if (response.data && response.data.success) {\n        // Remove item from documents state immediately (no refresh needed)\n        setDocuments(prevDocuments => prevDocuments.filter(doc => doc.id !== docId));\n        \n        // Show success message\n        setSuccessMessage(\"âœ… Rapor baÅŸarÄ±yla silindi!\");\n        setShowSuccessToast(true);\n        setTimeout(() => {\n          setShowSuccessToast(false);\n        }, 3000);\n      } else {\n        alert(\"Rapor silinirken hata oluÅŸtu: \" + (response.data?.message || \"Bilinmeyen hata\"));\n      }\n    } catch (error) {\n      console.error(\"Rapor silme hatasÄ±:\", error);\n      alert(\"Rapor silinirken hata oluÅŸtu: \" + (error.response?.data?.message || error.message || \"Bilinmeyen hata\"));\n    }\n  };\n\n  return (\n    <div className=\"pt-24 px-8 min-h-screen bg-[#DDEEE3]\">\n      {/* SUCCESS TOAST NOTIFICATION */}\n      {showSuccessToast && (\n        <div className=\"fixed top-20 right-8 z-50 animate-slide-in\">\n          <div className=\"bg-emerald-600 text-white px-6 py-4 rounded-lg shadow-lg flex items-center gap-3 min-w-[300px]\">\n            <div className=\"flex-1\">\n              <p className=\"font-semibold\">{successMessage}</p>\n            </div>\n            <button\n              onClick={() => setShowSuccessToast(false)}\n              className=\"text-white hover:text-emerald-100 transition\"\n            >\n              âœ•\n            </button>\n          </div>\n        </div>\n      )}\n      \n      {/* ANALÄ°TÄ°K MODÃœLLER ÃœST MENÃœ */}\n      <div className=\"flex gap-4 mb-8 flex-wrap\">\n        <button\n          onClick={() => setActivePage(\"belgeler\")}\n          className={`px-6 py-2 rounded-full font-bold transition-all\n            ${\n              activePage === \"belgeler\"\n                ? \"bg-emerald-600 text-white shadow\"\n                : \"bg-white text-emerald-700 hover:bg-emerald-100\"\n            }`}\n        >\n          <FileText className=\"inline-block mr-2\" size={18} />\n          Belgeler\n        </button>\n\n        <button\n          onClick={() => setActivePage(\"istatistik\")}\n          className={`px-6 py-2 rounded-full font-bold transition-all\n            ${\n              activePage === \"istatistik\"\n                ? \"bg-emerald-600 text-white shadow\"\n                : \"bg-white text-emerald-700 hover:bg-emerald-100\"\n            }`}\n        >\n          <TrendingUp className=\"inline-block mr-2\" size={18} />\n          Ä°statistik Ã–zeti\n        </button>\n\n        <button\n          onClick={() => setActivePage(\"zaman\")}\n          className={`px-6 py-2 rounded-full font-bold transition-all\n            ${\n              activePage === \"zaman\"\n                ? \"bg-emerald-600 text-white shadow\"\n                : \"bg-white text-emerald-700 hover:bg-emerald-100\"\n            }`}\n        >\n          <BarChart3 className=\"inline-block mr-2\" size={18} />\n          Zaman Serisi Analizi\n        </button>\n      </div>\n\n      {/* SAYFA Ä°Ã‡ERÄ°ÄžÄ° */}\n      <div className=\"bg-white rounded-2xl p-10 shadow-lg\">\n        {/* BELGELER SAYFASI */}\n        {activePage === \"belgeler\" && (\n          <div>\n            <div className=\"mb-6\">\n              <h2 className=\"text-2xl font-bold text-gray-800 flex items-center gap-3 mb-4\">\n                <FileText className=\"text-emerald-600\" />\n                PDF Belgeler\n              </h2>\n              \n              {/* FILTER HEADER - Clean UI for Report Generation */}\n              <div className=\"bg-emerald-50 rounded-lg p-4 mb-4 border border-emerald-200\">\n                <h3 className=\"text-sm font-semibold text-gray-700 mb-3\">Rapor Filtreleri</h3>\n                <div className=\"grid grid-cols-1 md:grid-cols-4 gap-3\">\n                  {/* Neighborhood Filter */}\n                  <div>\n                    <label className=\"block text-xs font-medium text-gray-600 mb-1\">Mahalle</label>\n                    <select\n                      value={selectedNeighborhood}\n                      onChange={(e) => setSelectedNeighborhood(e.target.value)}\n                      className=\"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500\"\n                      disabled={neighborhoods.length === 0 || generatingReport}\n                      required\n                    >\n                      <option value=\"\">-- Mahalle SeÃ§in (Zorunlu) --</option>\n                      {neighborhoods.map((neighborhood) => (\n                        <option key={neighborhood} value={neighborhood}>\n                          {neighborhood}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n\n                  {/* Resource Filter */}\n                  <div>\n                    <label className=\"block text-xs font-medium text-gray-600 mb-1\">Kaynak</label>\n                    <select\n                      value={selectedResource}\n                      onChange={(e) => setSelectedResource(e.target.value)}\n                      className=\"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500\"\n                      disabled={generatingReport}\n                    >\n                      <option value=\"all\">TÃ¼m Kaynaklar</option>\n                      <option value=\"elektrik\">Elektrik</option>\n                      <option value=\"su\">Su</option>\n                      <option value=\"dogalgaz\">DoÄŸalgaz</option>\n                    </select>\n                  </div>\n\n                  {/* Period Filter - Month */}\n                  <div>\n                    <label className=\"block text-xs font-medium text-gray-600 mb-1\">Ay</label>\n                    <select\n                      value={selectedMonth}\n                      onChange={(e) => setSelectedMonth(parseInt(e.target.value))}\n                      className=\"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500\"\n                      disabled={generatingReport}\n                    >\n                      {(() => {\n                        // Dynamic Month Filter: Hide current month and future months\n                        const today = new Date();\n                        const currentMonthNum = today.getMonth() + 1; // 1-12\n                        const currentYearNum = today.getFullYear();\n                        \n                        // If selected year is current year: only show months less than current month\n                        // If selected year is past: show all 12 months\n                        const maxMonth = selectedYear === currentYearNum \n                          ? currentMonthNum - 1  // Hide current month and future\n                          : 12; // Show all months for past years\n                        \n                        return Array.from({ length: maxMonth }, (_, i) => i + 1).map((m) => (\n                          <option key={m} value={m}>\n                            {m}. Ay\n                          </option>\n                        ));\n                      })()}\n                    </select>\n                  </div>\n\n                  {/* Period Filter - Year */}\n                  <div>\n                    <label className=\"block text-xs font-medium text-gray-600 mb-1\">YÄ±l</label>\n                    <select\n                      value={selectedYear}\n                      onChange={(e) => {\n                        const newYear = parseInt(e.target.value);\n                        setSelectedYear(newYear);\n                        \n                        // Validate month when year changes\n                        const today = new Date();\n                        const currentMonthNum = today.getMonth() + 1;\n                        const currentYearNum = today.getFullYear();\n                        \n                        // If new year is current year and selected month is >= current month, reset to previous month\n                        if (newYear === currentYearNum && selectedMonth >= currentMonthNum) {\n                          const prevMonth = currentMonthNum === 1 ? 12 : currentMonthNum - 1;\n                          setSelectedMonth(prevMonth);\n                        }\n                      }}\n                      className=\"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500\"\n                      disabled={generatingReport}\n                    >\n                      {Array.from({ length: 5 }, (_, i) => new Date().getFullYear() - i).map((y) => (\n                        <option key={y} value={y}>\n                          {y}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n                </div>\n\n                {/* Generate Button with Progress Indicator */}\n                <div className=\"mt-4 flex items-center justify-between\">\n                  <button\n                    onClick={handleGenerateReport}\n                    disabled={generatingReport || !selectedNeighborhood || selectedNeighborhood === \"\"}\n                    className=\"bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-2 rounded-lg font-semibold transition flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    {generatingReport ? (\n                      <>\n                        <Loader2 className=\"animate-spin\" size={18} />\n                        Ä°ÅŸleniyor...\n                      </>\n                    ) : (\n                      <>\n                        <Calendar size={18} />\n                        Rapor OluÅŸtur\n                      </>\n                    )}\n                  </button>\n                  \n                  {reportProgress && (\n                    <div className=\"text-sm text-emerald-700 font-medium\">\n                      {reportProgress}\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n\n            {loading ? (\n              <div className=\"text-center py-10\">\n                <Loader2 className=\"animate-spin mx-auto mb-4 text-emerald-600\" size={32} />\n                <p className=\"text-gray-600\">Belgeler yÃ¼kleniyor...</p>\n              </div>\n            ) : documents.length === 0 ? (\n              <div className=\"text-center py-10 text-gray-500\">\n                <FileText size={48} className=\"mx-auto mb-4 opacity-50\" />\n                <p>HenÃ¼z belge bulunmuyor.</p>\n                <p className=\"text-sm mt-2\">YukarÄ±daki butona tÄ±klayarak yeni rapor oluÅŸturabilirsiniz.</p>\n              </div>\n            ) : (\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                {documents.map((doc, index) => (\n                  <div\n                    key={index}\n                    className=\"border border-gray-200 rounded-lg p-4 hover:shadow-md transition\"\n                  >\n                    <div className=\"flex items-start justify-between mb-3\">\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center gap-2 mb-1\">\n                          <h3 className=\"font-semibold text-gray-800\">{doc.neighborhood_name}</h3>\n                          {/* Resource Type Badge */}\n                          {(() => {\n                            const resourceType = doc.resource || doc.resourceType || 'all';\n                            if (resourceType === 'elektrik') {\n                              return (\n                                <span className=\"inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs font-semibold bg-yellow-100 text-yellow-800\">\n                                  âš¡ Elektrik\n                                </span>\n                              );\n                            } else if (resourceType === 'su') {\n                              return (\n                                <span className=\"inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs font-semibold bg-blue-100 text-blue-800\">\n                                  ðŸ’§ Su\n                                </span>\n                              );\n                            } else if (resourceType === 'dogalgaz') {\n                              return (\n                                <span className=\"inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs font-semibold bg-orange-100 text-orange-800\">\n                                  ðŸ”¥ DoÄŸalgaz\n                                </span>\n                              );\n                            } else {\n                              return (\n                                <span className=\"inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs font-semibold bg-gray-100 text-gray-800\">\n                                  ðŸ“‹ TÃ¼m Kaynaklar\n                                </span>\n                              );\n                            }\n                          })()}\n                        </div>\n                        <p className=\"text-sm text-gray-500\">\n                          {doc.month}/{doc.year}\n                        </p>\n                      </div>\n                      <FileText className=\"text-emerald-600\" size={24} />\n                    </div>\n                    <p className=\"text-xs text-gray-400 mb-3\">\n                      {formatDate(doc.report_date || doc.created_at)}\n                    </p>\n                    <div className=\"flex items-center gap-2\">\n                      {(() => {\n                        // Validate URL before using it\n                        const isValidUrl = doc.download_url && \n                          doc.download_url.trim() !== '' && \n                          doc.download_url !== 'null' &&\n                          doc.download_url !== 'undefined' &&\n                          (doc.download_url.startsWith('http://') || doc.download_url.startsWith('https://'));\n                        \n                        if (isValidUrl) {\n                          try {\n                            // Try to construct URL to validate it\n                            new URL(doc.download_url);\n                            return (\n                              <a\n                                href={doc.download_url}\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                                className=\"inline-flex items-center gap-2 bg-emerald-100 hover:bg-emerald-200 text-emerald-700 px-4 py-2 rounded-lg text-sm font-medium transition\"\n                                onClick={(e) => {\n                                  // Ensure it opens in new tab and triggers download\n                                  e.preventDefault();\n                                  window.open(doc.download_url, '_blank');\n                                }}\n                              >\n                                <Download size={16} />\n                                Ä°ndir\n                              </a>\n                            );\n                          } catch (urlError) {\n                            console.error('Invalid URL:', doc.download_url, urlError);\n                            return (\n                              <span className=\"inline-flex items-center gap-2 bg-gray-100 text-gray-500 px-4 py-2 rounded-lg text-sm font-medium cursor-not-allowed\">\n                                <Download size={16} />\n                                GeÃ§ersiz URL\n                              </span>\n                            );\n                          }\n                        } else {\n                          return (\n                            <span className=\"inline-flex items-center gap-2 bg-gray-100 text-gray-500 px-4 py-2 rounded-lg text-sm font-medium cursor-not-allowed\">\n                              <Download size={16} />\n                              URL Yok\n                            </span>\n                          );\n                        }\n                      })()}\n                      \n                      {/* Delete Button */}\n                      <button\n                        onClick={() => handleDeleteDocument(doc.id, `${doc.neighborhood_name} - ${doc.month}/${doc.year}`)}\n                        className=\"inline-flex items-center gap-2 bg-red-100 hover:bg-red-200 text-red-700 px-4 py-2 rounded-lg text-sm font-medium transition\"\n                        title=\"Raporu Sil\"\n                      >\n                        <Trash2 size={16} />\n                        Sil\n                      </button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Ä°STATÄ°STÄ°K Ã–ZETÄ° SAYFASI */}\n        {activePage === \"istatistik\" && (\n          <div>\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 className=\"text-2xl font-bold text-gray-800 flex items-center gap-3\">\n                <TrendingUp className=\"text-emerald-600\" />\n                Ä°statistik Ã–zeti\n              </h2>\n              <div className=\"flex gap-2\">\n                <select\n                  value={selectedMonth}\n                  onChange={(e) => setSelectedMonth(parseInt(e.target.value))}\n                  className=\"border border-gray-300 rounded-lg px-3 py-2 text-sm\"\n                >\n                  {Array.from({ length: 12 }, (_, i) => i + 1).map((m) => (\n                    <option key={m} value={m}>\n                      {m}. Ay\n                    </option>\n                  ))}\n                </select>\n                <select\n                  value={selectedYear}\n                  onChange={(e) => setSelectedYear(parseInt(e.target.value))}\n                  className=\"border border-gray-300 rounded-lg px-3 py-2 text-sm\"\n                >\n                  {Array.from({ length: 5 }, (_, i) => new Date().getFullYear() - i).map((y) => (\n                    <option key={y} value={y}>\n                      {y}\n                    </option>\n                  ))}\n                </select>\n              </div>\n            </div>\n\n            {loading ? (\n              <div className=\"text-center py-10\">\n                <Loader2 className=\"animate-spin mx-auto mb-4 text-emerald-600\" size={32} />\n                <p className=\"text-gray-600\">Veriler yÃ¼kleniyor...</p>\n              </div>\n            ) : !statisticalSummary || statisticalSummary.length === 0 ? (\n              <div className=\"text-center py-10 text-gray-500\">\n                <p>Bu dÃ¶nem iÃ§in veri bulunamadÄ±.</p>\n              </div>\n            ) : (\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full text-left border-collapse\">\n                  <thead>\n                    <tr className=\"bg-emerald-50 text-gray-700\">\n                      <th className=\"p-4 font-semibold border-b\">Mahalle</th>\n                      <th className=\"p-4 font-semibold border-b\">Elektrik (Ort/Zirve/DÃ¼ÅŸÃ¼k)</th>\n                      <th className=\"p-4 font-semibold border-b\">Su (Ort/Zirve/DÃ¼ÅŸÃ¼k)</th>\n                      <th className=\"p-4 font-semibold border-b\">DoÄŸalgaz (Ort/Zirve/DÃ¼ÅŸÃ¼k)</th>\n                      <th className=\"p-4 font-semibold border-b\">DeÄŸiÅŸim</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {statisticalSummary.map((item, index) => (\n                      <tr key={index} className=\"border-b hover:bg-gray-50\">\n                        <td className=\"p-4 font-medium\">{item.mahalle}</td>\n                        <td className=\"p-4 text-sm\">\n                          {item.elektrik ? (\n                            <>\n                              {item.elektrik.average.toFixed(2)} / {item.elektrik.peak.toFixed(2)} /{\" \"}\n                              {item.elektrik.lowest.toFixed(2)} kWh\n                            </>\n                          ) : (\n                            \"-\"\n                          )}\n                        </td>\n                        <td className=\"p-4 text-sm\">\n                          {item.su ? (\n                            <>\n                              {item.su.average.toFixed(2)} / {item.su.peak.toFixed(2)} /{\" \"}\n                              {item.su.lowest.toFixed(2)} mÂ³\n                            </>\n                          ) : (\n                            \"-\"\n                          )}\n                        </td>\n                        <td className=\"p-4 text-sm\">\n                          {item.dogalgaz ? (\n                            <>\n                              {item.dogalgaz.average.toFixed(2)} / {item.dogalgaz.peak.toFixed(2)} /{\" \"}\n                              {item.dogalgaz.lowest.toFixed(2)} mÂ³\n                            </>\n                          ) : (\n                            \"-\"\n                          )}\n                        </td>\n                        <td className=\"p-4 text-sm\">\n                          {item.elektrik?.change && (\n                            <span\n                              className={`px-2 py-1 rounded ${\n                                item.elektrik.change.increased\n                                  ? \"bg-red-100 text-red-700\"\n                                  : \"bg-green-100 text-green-700\"\n                              }`}\n                            >\n                              E: {item.elektrik.change.percentage}%\n                            </span>\n                          )}\n                          {item.su?.change && (\n                            <span\n                              className={`px-2 py-1 rounded ml-1 ${\n                                item.su.change.increased\n                                  ? \"bg-red-100 text-red-700\"\n                                  : \"bg-green-100 text-green-700\"\n                              }`}\n                            >\n                              S: {item.su.change.percentage}%\n                            </span>\n                          )}\n                          {item.dogalgaz?.change && (\n                            <span\n                              className={`px-2 py-1 rounded ml-1 ${\n                                item.dogalgaz.change.increased\n                                  ? \"bg-red-100 text-red-700\"\n                                  : \"bg-green-100 text-green-700\"\n                              }`}\n                            >\n                              D: {item.dogalgaz.change.percentage}%\n                            </span>\n                          )}\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* ZAMAN SERÄ°SÄ° ANALÄ°ZÄ° SAYFASI */}\n        {activePage === \"zaman\" && (\n          <div>\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 className=\"text-2xl font-bold text-gray-800 flex items-center gap-3\">\n                <BarChart3 className=\"text-emerald-600\" />\n                Zaman Serisi Analizi\n              </h2>\n              <select\n                value={selectedYear}\n                onChange={(e) => setSelectedYear(parseInt(e.target.value))}\n                className=\"border border-gray-300 rounded-lg px-3 py-2 text-sm\"\n              >\n                {Array.from({ length: 5 }, (_, i) => new Date().getFullYear() - i).map((y) => (\n                  <option key={y} value={y}>\n                    {y}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            {loading ? (\n              <div className=\"text-center py-10\">\n                <Loader2 className=\"animate-spin mx-auto mb-4 text-emerald-600\" size={32} />\n                <p className=\"text-gray-600\">Veriler yÃ¼kleniyor...</p>\n              </div>\n            ) : !timeSeriesAnalysis ? (\n              <div className=\"text-center py-10 text-gray-500\">\n                <p>Bu dÃ¶nem iÃ§in veri bulunamadÄ±.</p>\n              </div>\n            ) : (\n              <div className=\"space-y-8\">\n                {/* Mevsimsel TÃ¼ketim */}\n                <div>\n                  <h3 className=\"text-xl font-bold text-gray-800 mb-4\">Mevsimsel TÃ¼ketim</h3>\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n                    {Object.values(timeSeriesAnalysis.seasonalConsumption || {}).map(\n                      (season, index) => (\n                        <div\n                          key={index}\n                          className=\"border border-gray-200 rounded-lg p-4 bg-emerald-50\"\n                        >\n                          <h4 className=\"font-semibold text-gray-800 mb-3\">{season.name}</h4>\n                          <div className=\"space-y-2 text-sm\">\n                            <p>\n                              <span className=\"font-medium\">Elektrik:</span>{\" \"}\n                              {season.elektrik.average.toFixed(2)} kWh\n                            </p>\n                            <p>\n                              <span className=\"font-medium\">Su:</span> {season.su.average.toFixed(2)} mÂ³\n                            </p>\n                            <p>\n                              <span className=\"font-medium\">DoÄŸalgaz:</span>{\" \"}\n                              {season.dogalgaz.average.toFixed(2)} mÂ³\n                            </p>\n                          </div>\n                        </div>\n                      )\n                    )}\n                  </div>\n                </div>\n\n                {/* Mevsimsel ArÄ±zalar */}\n                <div>\n                  <h3 className=\"text-xl font-bold text-gray-800 mb-4\">Mevsimsel ArÄ±za FrekansÄ±</h3>\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n                    {Object.values(timeSeriesAnalysis.seasonalIncidents || {}).map(\n                      (season, index) => (\n                        <div\n                          key={index}\n                          className=\"border border-gray-200 rounded-lg p-4 bg-red-50\"\n                        >\n                          <h4 className=\"font-semibold text-gray-800 mb-3\">{season.name}</h4>\n                          <p className=\"text-lg font-bold text-red-600 mb-2\">\n                            Toplam: {season.count} arÄ±za\n                          </p>\n                          <div className=\"space-y-1 text-sm\">\n                            <p>Elektrik: {season.byResource.Elektrik}</p>\n                            <p>Su: {season.byResource.Su}</p>\n                            <p>DoÄŸalgaz: {season.byResource.Dogalgaz}</p>\n                          </div>\n                        </div>\n                      )\n                    )}\n                  </div>\n                </div>\n\n                {/* Korelasyon Analizi */}\n                {timeSeriesAnalysis.correlations && timeSeriesAnalysis.correlations.length > 0 && (\n                  <div>\n                    <h3 className=\"text-xl font-bold text-gray-800 mb-4\">Korelasyon Analizi</h3>\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                      {timeSeriesAnalysis.correlations.map((corr, index) => (\n                        <div\n                          key={index}\n                          className=\"border border-gray-200 rounded-lg p-4 bg-blue-50\"\n                        >\n                          <h4 className=\"font-semibold text-gray-800 mb-3 uppercase\">\n                            {corr.resource}\n                          </h4>\n                          <div className=\"space-y-2 text-sm\">\n                            <p>\n                              <span className=\"font-medium\">Zirve Mevsim:</span> {corr.peakSeason} (\n                              {corr.peakValue.toFixed(2)})\n                            </p>\n                            <p>\n                              <span className=\"font-medium\">En DÃ¼ÅŸÃ¼k Mevsim:</span> {corr.lowestSeason} (\n                              {corr.lowestValue.toFixed(2)})\n                            </p>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default AnalitikModuller;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}